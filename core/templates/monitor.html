
{% extends 'base.html' %}
{% block title %}Monitor| {{ area.name }}{% endblock %}
{% block content %}
      <div class="page-wrapper">
        <div class="page-header d-print-none">
          <div class="container">
            <div class="row g-3 align-items-center">
              <div class="col-auto">
                <span class="status-indicator status-green status-indicator-animated">
                  <span class="status-indicator-circle"></span>
                  <span class="status-indicator-circle"></span>
                  <span class="status-indicator-circle"></span>
                </span>
              </div>
              <div class="col">
                <h2 class="page-title">
                  {% if error_message %}
                    <span class="text-red">Connect to ur Internet</span>
                    
                  {% else %}
                    <span class="text-primary">{{ area.name }}</span>
                  {% endif %}
                </h2>
                <div class="text-secondary">
                  <ul class="list-inline list-inline-dots mb-0">
                    <li class="list-inline-item"><span class="text-green">Live</span></li>
                    <li class="list-inline-item">Checks every second</li>
                  </ul>
                </div>
              </div>
              <div class="col-md-auto ms-auto d-print-none">
                <div class="btn-list">
                  <a href="#" class="btn">
                    <!-- Download SVG icon from http://tabler-icons.io/i/settings -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10.325 4.317c.426 -1.756 2.924 -1.756 3.35 0a1.724 1.724 0 0 0 2.573 1.066c1.543 -.94 3.31 .826 2.37 2.37a1.724 1.724 0 0 0 1.065 2.572c1.756 .426 1.756 2.924 0 3.35a1.724 1.724 0 0 0 -1.066 2.573c.94 1.543 -.826 3.31 -2.37 2.37a1.724 1.724 0 0 0 -2.572 1.065c-.426 1.756 -2.924 1.756 -3.35 0a1.724 1.724 0 0 0 -2.573 -1.066c-1.543 .94 -3.31 -.826 -2.37 -2.37a1.724 1.724 0 0 0 -1.065 -2.572c-1.756 -.426 -1.756 -2.924 0 -3.35a1.724 1.724 0 0 0 1.066 -2.573c-.94 -1.543 .826 -3.31 2.37 -2.37c1 .608 2.296 .07 2.572 -1.065z" /><path d="M9 12a3 3 0 1 0 6 0a3 3 0 0 0 -6 0" /></svg>
                    Configure
                  </a>
                  <a href="#" class="btn btn-primary">
                    <!-- Download SVG icon from http://tabler-icons.io/i/player-pause -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /><path d="M14 5m0 1a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1v12a1 1 0 0 1 -1 1h-2a1 1 0 0 1 -1 -1z" /></svg>
                    Pause this monitor
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Page body -->
        <div class="page-body">
          <div class="container-xl">
            <div class="row row-cards">
              <div class="col-md-3">
                <div class="card">
                  <div class="card-body">
                    <div class="subheader">Temperature</div>
                    <div class="h3 m-0">{{ weather_info.temp }}<sup>o</sup>C</div>
                  </div>
                </div>
              </div>
              <div class="col-md-3">
                <div class="card">
                  <div class="card-body">
                    <div class="subheader">Description</div>
                    <div class="h3 m-0">{{ weather_info.description }}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-2">
                <div class="card">
                  <div class="card-body">
                    <div class="subheader">Wind Speed</div>
                    <div class="h3 m-0">{{ weather_info.wind }}</div>
                  </div>
                </div>
              </div>
              <div class="col-md-2">
                <div class="card">
                  <div class="card-body">
                    <div class="subheader">Humidity</div>
                    <div class="h3 m-0">{{ weather_info.humidity }} </div>
                  </div>
                </div>
              </div>
              <div class="col-md-2">
                <div class="card">
                  <div class="card-body">
                    <div class="subheader">Sea Level</div>
                    <div class="h3 m-0">{{ weather_info.sea_level }} m</div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <div class="card">
                  <div class="card-body p-0">
                    <video width="100%" height="auto" controls>
                        <source src="{{ area.video.url }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                  </div>
                
                
                </div>
              </div>
              <!-- <div class="col-md-4">
                <div class="card">
                  <div class="card-body">
                    <h3 class="card-title">Response times across regions in the last day</h3>
                    <div id=""></div>
                  </div>
                </div>
              </div> -->
              <div class="col-md-6">
                <div class="card">
                  <div class="card-body">
                    <h3 class="card-title">Min and Max TEMPERATURE <sup>Next 3 hrs</sup></h3>
                    <div id="chart-area"></div>
                  </div>
                </div>
              </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <script>
      // @formatter:off
      document.addEventListener("DOMContentLoaded", function () {
      	window.ApexCharts && (new ApexCharts(document.getElementById('chart-area'), {
      		chart: {
      			type: "area",
      			fontFamily: 'inherit',
      			height: 240,
      			parentHeightOffset: 0,
      			toolbar: {
      				show: false,
      			},
      			animations: {
      				enabled: false
      			},
      		},
      		dataLabels: {
      			enabled: false,
      		},
      		fill: {
      			opacity: .16,
      			type: 'solid'
      		},
      		stroke: {
      			width: 2,
      			lineCap: "round",
      			curve: "smooth",
      		},
      		series: [{
      			name: "Maximum",
      			data: [{{ weather_info.temp_max1 }}, {{ weather_info.temp_max2 }}, {{ weather_info.temp_max3 }}, {{ weather_info.temp_max4 }}, {{ weather_info.temp_max5 }}, {{ weather_info.temp_max6 }}]
      		},{
      			name: "Minimum",
      			data: [{{ weather_info.temp_min1 }}, {{ weather_info.temp_min2 }}, {{ weather_info.temp_min3 }}, {{ weather_info.temp_min4 }}, {{ weather_info.temp_min5 }}, {{ weather_info.temp_min6 }}]
      		}],
      		tooltip: {
      			theme: 'dark'
      		},
      		grid: {
      			padding: {
      				top: -20,
      				right: 0,
      				left: -4,
      				bottom: -4
      			},
      			strokeDashArray: 4,
      		},
      		xaxis: {
      			labels: {
      				padding: 0,
      			},
      			tooltip: {
      				enabled: false
      			},
      			axisBorder: {
      				show: false,
      			},
      			categories: ['{{ weather_info.date1 }}', '{{ weather_info.date2 }}', '{{ weather_info.date3 }}', '{{ weather_info.date4 }}', '{{ weather_info.date5 }}', '{{ weather_info.date6 }}'],
      		},
      		yaxis: {
      			labels: {
      				padding: 4
      			},
      		},
      		colors: [tabler.getColor("primary"), tabler.getColor("pink")],
      		legend: {
      			show: false,
      		},
      	})).render();
      });
      // @formatter:on
    </script>
  {% endblock %}