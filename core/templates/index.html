{% extends 'base.html' %}
{% load static %}
{% block title %}Home{% endblock %}
{% block content %}
      <div class="page-wrapper">
        <!-- Page header -->
        <div class="page-header d-print-none">
          <div class="container-xl">
            <div class="row g-2 align-items-center">
              <div class="col">
                <!-- Page pre-title -->
                <div class="page-pretitle">
                  Overview
                </div>
                <h2 class="page-title">
                  Dashboard
                </h2>
              </div>
              <!-- Page title actions -->
              <div class="col-auto ms-auto d-print-none">
                <div class="btn-list">
                  <span class="d-none d-sm-inline">
                    <a href="{% url 'location' %}" class="btn">
                      Location
                    </a>
                  </span>
                  <a href="#" class="btn btn-primary d-none d-sm-inline-block" data-bs-toggle="modal" data-bs-target="#modal-report">
                    <!-- Download SVG icon from http://tabler-icons.io/i/plus -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>
                    Add a new Location
                  </a>
                  <a href="#" class="btn btn-primary d-sm-none btn-icon" data-bs-toggle="modal" data-bs-target="#modal-report" aria-label="Create new report">
                    <!-- Download SVG icon from http://tabler-icons.io/i/plus -->
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 5l0 14" /><path d="M5 12l14 0" /></svg>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Page body -->
        <div class="page-body">
          <div class="container-xl">
            <div class="row row-deck row-cards">
              <div class="col-sm-6 col-lg-4">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">INSTALLED MACHINE</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <a href="{% url 'location' %}">
                        <button class="btn position-relative">{{ total_areas }}<span class="badge bg-blue badge-notification badge-blink"></span></button>
                      </a>
                    </div>
                  </div>
                  
                </div>
              </div>
              <div class="col-sm-6 col-lg-4">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Active Eyes</div>
                    </div>
                    <div class="d-flex align-items-baseline">
                      <a href="{% url 'webcam' %}">
                        <button class="btn position-relative">1<span class="badge bg-green badge-notification badge-blink"></span></button>
                      </a>
                    </div> 
                  </div>
                </div>
              </div>
              <div class="col-sm-6 col-lg-4">
                <div class="card">
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <div class="subheader">Disabled Camera</div>
                      <!-- <div class="ms-auto lh-1">
                        <span class="status-indicator status-red status-indicator-animated">
                          <span class="status-indicator-circle"></span>
                          <span class="status-indicator-circle"></span>
                          <span class="status-indicator-circle"></span>
                        </span>
                      </div> -->
                    </div>
                    <div class="d-flex align-items-baseline">
                      <button class="btn position-relative">0<span class="badge bg-red badge-notification badge-blink"></span></button>
                    </div>
                  </div>
                </div>
              </div>
              
              
              <div class="col-lg-6">
                <div class="card">
                  <div class="card-body">
                    <h2 class="card-title">REPORTS</h2>
                    <p class="text-secondary">Every second Report. <code>it updates when u refresh the pages</code></p>
                    <div class="alert alert-success" role="alert">
                      <div class="d-flex">
                        <div>
                          <!-- Download SVG icon from http://tabler-icons.io/i/check -->
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12l5 5l10 -10" /></svg>
                        </div>
                        <div>
                          <h4 class="alert-title">New Machine Installed!</h4>
                          <div class="text-secondary">Location: <code><a href="#">Blantyre</a></code></div>
                        </div>
                      </div>
                    </div>
                    
                    <div class="alert alert-danger" role="alert">
                      <div class="d-flex">
                        <div>
                          <!-- Download SVG icon from http://tabler-icons.io/i/alert-circle -->
                          <svg xmlns="http://www.w3.org/2000/svg" class="icon alert-icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0" /><path d="M12 8v4" /><path d="M12 16h.01" /></svg>
                        </div>
                        <div>
                          <h4 class="alert-title">Fire detected!!</h4>
                          <div class="text-secondary">Place: <a href="#">Blantyre</a> Time <code>21:00</code></div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              
              

              <div class="col-md-12 col-lg-6">
                <div class="card">
                  <div class="card-header">
                    <h3 class="card-title">LOCATIONS</h3>
                  </div>
                  <div class="table-responsive">
                    <table class="table card-table table-vcenter">
                      <tr>
                        <td class="w-100">
                          <a href="{% url 'webcam' %}" class="text-reset">Webcam</a>
                        </td>
                        <td class="text-nowrap text-secondary text-center">
                          Experimental Page for webcam
                        </td>
                        <td>
                          <span class="avatar avatar-sm" style="background-image: url('{% static 'web-cam.jpg' %}');"></span>
                        </td>
                      </tr>
                      {% for area in areas %}
                          <tr>
                              <td class="w-100">
                                  <a href="{% url 'monitor' area.id %}" class="text-reset">{{ area.name }}</a>
                              </td>
                              <td class="text-nowrap text-secondary text-center">
                                  {{ area.description }}
                              </td>
                              <td>
                                  {% if area.pictures %}
                                      <span class="avatar avatar-sm" style="background-image: url('{{ area.pictures.url }}');"></span>
                                  {% else %}
                                      <span class="avatar avatar-sm"></span>
                                  {% endif %}
                              </td>
                          </tr>
                      {% endfor %}
                    </table>                  
                  </div>
                </div>
              </div>
              
            </div>
          </div>
        </div>
        
      </div>
    </div>

    {% endblock %}
